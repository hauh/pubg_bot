"""All bot's texts located here in dict with specific structure"""

from pubglik import config

# match settings
match_settings = {
	'type': {
		'survival_easy': {
			'full': "Выживание (лёгкий)",
			'short': "Выж(лёгк)"
		},
		'survival_medium': {
			'full': "Выживание (средний)",
			'short': "Выж(ср)"
		},
		'survival_hard': {
			'full': "Выживание (тяжёлый)",
			'short': "Выж(тяж)"
		},
		'kills': {
			'full': "Убийства",
			'short': "Убийства"
		},
		"mixed": {
			'full': "Смешанный",
			'short': "Смешанный"
		}
	},
	'view': {
		'1st': {
			'full': "От первого лица",
			'short': "1st",
		},
		'3rd': {
			'full': "От третьего лица",
			'short': "3rd",
		},
	},
	'mode': {
		'solo': {
			'full': "SOLO",
			'short': "SOLO"
		},
		'dual': {
			'full': "DUAL",
			'short': "DUAL"
		},
		'squad': {
			'full': "SQUAD",
			'short': "SQUAD"
		},
		'payload': {
			'full': "Payload",
			'short': "Payload"
		},
		'zombie': {
			'full': "Zombie",
			'short': "Zombie"
		}
	},
	'bet': {
		str(bet): {
			'full': bet,
			'short': str(bet)
		} for bet in range(
			config.bets['min'], config.bets['max'] + 1, config.bets['step'])
	}
}

# main menu
menu = {
	'msg': (
		"Приветствуем, победитель!\n"
		"PUBG.Lik - турниры на реальные деньги круглосуточно!\n"
		"1. Пройди регистрацию - вкладка «Личный кабинет».\n"
		"2. Пополни баланс на любую сумму от 10 руб.\n"
		"3. Выбери или создай свой турнир с любым режимом.\n"
		"4. Играй и выигрывай!"
	),
	'msg_registered': (
		"Приветствуем тебя, *{}*, в нашей команде!\n"
		"Текущий баланс: {}\nСыграно турниров: {}"
	),
	'next': {
		'admin': {},
		'tournaments': {
			'btn': "График турниров",
		},
		'profile': {
			'btn': "Личный кабинет",
		},
		'how': {
			'btn': "Как это работает?",
			'msg': "Правила пользования сервисом",
			'next': {
				'usage': {
					'btn': "Как пользоваться сервисом",
					'msg': (
						"1) Зарегистрируйте ваш PUBG ID и PUBG ник в профиле. "
						"Убедитесь в верности ваших данных, чтобы вы смогли "
						"попасть в игровое лобби.\n"
						"2) В своём профиле у бота пополните ваш счёт.\n"
						"3) Заходите в слот с удобным для вас временем и режимом "
						"(если вы зашли первым, то режим и стаку выбираете вы), "
						"вы можете участовать в одиночку или со своими друзьями.\n"
						f"4) За {config.times['close_slot']} мин. до начала "
						"турнира, если набралось достаточное количество игроков, "
						"бот пришлёт вам уведомление с напоминанием о турнире. "
						"До этого момента вы можете выйти и забрать ставку.\n"
						f"5) За {config.times['send_room']} мин. до начала "
						"турнира бот пришлёт вам логин и пароль от лобби, "
						"а также номер команды, в которую вам необходимо будет "
						"вступить, аналогичные данные для входа появятся в вашем "
						"кабинете у бота. Входить в лобби настоятельно "
						"рекомендуем сразу, как только вы получили соответствующие "
						"данные, если вы опоздаете к началу, игра пройдёт без вас. "
						"Если в вашей ячейке находится посторонний игрок, сообщите "
						"нам об этом в поддержку в телеграмме (раздел контакты), "
						"и мы кикнем его из лобби, чтобы вы смогли занять "
						"свое место. Крайний срок обращения в поддержку с этим "
						"вопросом - за 2 минуты до начала турнира.\n"
						"6) После окончания турнира, если вы выиграли призы, "
						"бот пришлёт вам результаты, и на ваш баланс будут "
						"начислена соответсвующая сумма .\n"
						"7) Вы можете вывести ваши средства любым удобным "
						"способом у себя в профиле."
					)
				},
				"prize_structure": {
					'btn': "Структура призов",
					'msg': (
						"В зависимости от режима, призовой фонд будет "
						"распределён следующим образом:\n\n"
						"*Выживание*:\n"
						"Лёгкий: +70% к стоимости участия получают игроки, "
						"попавшие в топ 50.\n"
						"Средний: +180% к стоимости участия получают игроки, "
						"попавшие в топ 25.\n"
						"Тяжёлый: +600% к стоимости участия получают игроки, "
						"попавшие в топ 10.\n"
						"*Убийства*:\n"
						"За каждый килл игрок получает 70% от суммы участия.\n"
						"*Смешанный*:\n"
						"Топ 10 игроков получают +150% к сумме участия.\n"
						"Тор 25 — +50% к сумме участия.\n"
						"За каждый килл вы получите 22% от суммы участия."
					),
				},
				'rules': {
					'btn': "Правила",
					'msg': (
						"*Запрещено*:\n"
						"• Участие в турнирах с эмуляторов;\n"
						"• Вставать не в свою ячейку в лобби (режимы Дуо и Сквад);\n"
						"• Отправлять логин и пароль для входа в лобби третьим лицам;\n"
						"• Участие в турнире с аккаунта, на котором уровень ниже 20;\n"
						"• Использовать чит-коды;\n"
						"Каждое из нарушений влечет за собой удаление из Турнира! "
						"В некоторых случаях возможен бан аккаунта без возврата "
						"денежных средств."
					)
				}
			},
		},
		'contacts': {
			'btn': "Контакты",
			'msg': (
				"*Телеграм*:\n"
				"https://t.me/PUBGLIK\\_support\n"
				"*Инстаграм*:\n"
				"https://instagram.com/pubg.lik.ru\n"
				"*ВКонтакте*:\n"
				"https://vk.com/pubg\\_lik\n"
				"*Почта*:\n"
				"pubglik@mail.ru"
			)
		},
		'battle_chat': {
			'btn': "Общий чат"
		},
	},
	'extra_buttons': {
		'admin': "Управление",
	}
}

# tournaments
tournaments = {
	'msg': (
		"Выберите не более трёх турниров, в которых хотите участвовать. Cтавка "
		"будет заморожена на вашем балансе пока турнир не начнётся, или вы из "
		f"него не выйдете (не позднее, чем за {config.times['close_slot']} мин. "
		"до начала).\n*Ваш баланс*: {balance}\n*Выбранные турниры*:\n{tournaments}"
	),
	'answers': {
		'pubg_required': (
			"Привет, игрок! "
			"Для начала пройди регистрацию - вкладка «Личный Кабинет»"
		)
	},
	'default': "Не выбраны",
	'next': {
		'slot_': {
			'msg': (
				"Cоздание слота. "
				"Выбранная ставка будет списана со счёта после подтверждения.\n"
				"*Баланс*: {balance}\n\n"
				"*Тип*: {type}\n"
				"*Режим*: {mode}\n"
				"*Обзор*: {view}\n"
				"*Ставка*: {bet}"
			),
			'default': "не выбрано",
			'answers': {
				'not_found': "Турнир не найден. Вероятно, он уже начался или завершился.",
				'maximum': "Вы уже записаны на три турнира",
				'expensive': "У вас не хватает средств для участия в этом турнире",
				'full': "Турнир заполнен",
				'already_set': "Турнир уже был кем-то создан",
				'too_late': "Нельзя выйти: турнир уже готовится к началу",
				'left': "Вы вышли из турнира. Ставка возвращена на ваш счёт.",
				'joined': (
					f"Турнир выбран. За {config.times['send_room']} мин. "
					"до начала придёт пароль от комнаты."
				),
			},
			'next': {
				'type': {
					'btn': "Выбрать тип",
					'msg': "Выберите *ТИП* игры",
					'next': {
						match_type: {
							'btn': type_text['full']
						} for match_type, type_text in match_settings['type'].items()
					}
				},
				'mode': {
					'btn': "Выбрать режим",
					'msg': "Выберите *РЕЖИМ* игры",
					'next': {
						match_mode: {
							'btn': mode_text['full']
						} for match_mode, mode_text in match_settings['mode'].items()
					}
				},
				'view': {
					'btn': "Выбрать обзор",
					'msg': "Выберите *ОБЗОР* игры",
					'next': {
						match_view: {
							'btn': view_text['full']
						} for match_view, view_text in match_settings['view'].items()
					}
				},
				'bet': {
					'btn': "Выбрать ставку",
					'msg': "Выберите *СТАВКУ*",
					'next': {
						match_bet: {
							'btn': bet_text['full']
						} for match_bet, bet_text in match_settings['bet'].items()
					}
				},
			},
		},
	},
}
menu['next']['tournaments'].update(tournaments)

free_slot = "Создать турнир"
leave_slot = "Выйти"

# profile
profile = {
	'msg': (
		"*ЛИЧНЫЙ КАБИНЕТ*\n\n"
		"*Telegram ID*: {user_id}\n"
		"*PUBG ник*: {pubg_id}\n"
		"*PUBG ID*: {pubg_username}\n"
		"*Баланс*: {balance}\n"
	),
	'next': {
		'set_pubg_username': {
			'btn': "Установить ник PUBG",
			'msg': "Введите ваш игровой ник",
			'answers': {
				'confirm': "Новый ник: *{}*",
				'invalid': "Слишком длинный ник",
				'success': "Новый ник PUBG установлен",
				'duplicate': "Такой ник уже зарегистрирован"
			}
		},
		'set_pubg_id': {
			'btn': "Установить ID PUBG",
			'msg': "Введите ваш игровой ID",
			'answers': {
				'confirm': "Новый PUBG ID: *{}*",
				'invalid': "ID должен состоять только из 8-10 цифр",
				'success': "Новый PUBG ID установлен",
				'duplicate': "Такой PUBG ID уже зарегистрирован"
			}
		},
		'add_funds': {
			'btn': "Пополнить баланс",
			'msg': (
				"*ПОПОЛНЕНИЕ БАЛАНСА*\n\n"
				"Введите сумму платежа и подтвердите, после чего вы будете "
				"перенаправлены на сайт платёжной системы. Комиссия зависит от "
				"способа оплаты, итоговая сумма будет указана у оператора платежа.\n"
				"В случае возникновения проблемы, свяжитесь с администрацией."
			),
			'answers': {
				'confirm': "Сумма *пополнения*: {}. Создать ссылку для оплаты?",
				'invalid': "Введите число в диапазоне 10 - 99999",
				'goto_payment': "Перейти в платёжную систему, сумма: {}"
			}
		},
		'withdraw_money': {
			'btn': "Вывести средства",
			'msg': (
				"Ваш баланc: *{balance}*\n"
				"Способ вывода: *{provider}*\n"
				"Номер кошелька/карты: *{account}*\n"
				"Сумма вывода: *{amount}*\n"
			),
			'default': "не выбрано",
			'answers': {
				'commission': "Комиссия оператора платежа: *{}%*, итоговая сумма: *{}*",
				'too_much': "На вашем счету недостаточно средств",
				'error': "Произошла ошибка, попробуйте позже или обратитесь в поддержку",
			},
			'next': {
				'provider': {
					'btn': "Выбрать способ вывода",
					'msg': "Выберите способ вывода",
					'next': {
						'card': {
							'btn': "Банковская карта",
						},
						'mc': {
							'btn': "Мобильный платёж"
						},
						'yandex': {
							'btn': "Яндекс.Деньги"
						},
						'qiwi': {
							'btn': "QIWI-кошелёк",
						},
						'webmoney': {
							'btn': "WebMoney",
						},
					},
				},
				'account': {
					'btn': "Ввести кошелёк/карту",
					'msg': "Введите кошелёк/карту в формате выбранного способа вывода.",
					'answers': {
						'confirm': "Введённый кошелёк/карта: *{}*",
						'invalid': "Неправильный формат кошелька/карты",
					}
				},
				'amount': {
					'btn': "Ввести сумму вывода",
					'msg': "Введите сумму *вывода*",
					'answers': {
						'confirm': "Сумма вывода: *{}*",
						'invalid': "Введите число в диапазоне 10 - 99999",
						'too_much': "На вашем счету недостаточно средств"
					},
				},
			},
		},
		'balance_history': {
			'btn': "Посмотреть историю операций",
			'msg': "Операций не найдено",
			'next': {}
		},
	}
}
menu['next']['profile'].update(profile)

# admin
admin = {
	'msg': "Администрирование",
	'next': {
		'manage_tournaments': {
			'btn': "Турниры",
			'msg': (
				"🕑: турниры, ожидающие начала (нужен ID комнаты и пароль)\n"
				"🏆: турниры, ожидающие результатов"
			),
			'btn_template': "{status} PUBG ID {room_id}: {game}",
			'next': {
				'set_room_': {
					'msg': (
						"Турнир: [{}]\n"
						"Введите через запятую числовой PUBG ID комнаты и пароль\n"
						"Текущий PUBG ID комнаты: *{}*\nТекущий пароль: *{}*"
					),
					'answers': {
						'invalid_format': "\n\n*Неправильный ввод*. \n(числовой ID,пароль)",
						'confirm': "\n\nНовый ID: *{}*\nНовый пароль: *{}*\n*Подтвердить?*",
						'success': "ID комнаты и пароль сохранены",
					}
				},
				'set_winners_': {
					'msg': "Отправьте сюда Excel-файл с победителями в турнире",
					'btn_template': "Сгенерировать таблицу игроков",
					'answers': {
						'bad_file': "Ошибка чтения файла. Проверьте, что это Excel",
						'unknown_player': "В файле обнаружен неизвестный игрок (строка {})",
						'invalid_value': "Недопустимое или повторное значение (строка {})",
						'not_enough': "В таблице указаны не все призовые места",
						'wrong_kills': "Неверное количество убийств, должно быть {}",
						'missing_something': "Чего-то ещё не хватает",
						'confirm': (
							"Победители введены успешно. Всего ставок сделано: {}. "
							"*Призовых будет выплачено: {}*\n*Подтвердить?*"
						),
						'success': "Начато распределение призов",
					},
					'next': {
						'generate_table_': {}
					},
				},
			}
		},
		'manage_admins': {
			'btn': "Администраторы",
			'msg': "Администраторы",
			'next': {
				'add_admin': {
					'btn': "Добавить администратора",
					'msg': (
						"Введите telegram-ник нового администратора. "
						"У него должен быть диалог с ботом"
					),
					'answers': {
						'found': "Найден пользователь: @{}",
						'not_found': "Такой пользователь не найден. Проверьте юзернейм",
						'success': "Администратор добавлен!",
					}
				},
				'del_admin': {
					'btn': "Удалить администратора",
					'msg': "Выберите, какого администратора удалить",
					'answers': {
						'success': "Администратор удалён!",
					}
				}
			}
		},
		'manage_users': {
			'btn': "Пользователи",
			'msg': (
				"Введите телеграм-юзернейм пользователя с символом @ в начале, "
				"или введите его PUBG ID."
			),
			'answers': {
				'user_not_found': "Такой пользователь не найден",
				'user_found': (
					"Пользователь найден!\n\n"
					"Telegram ID: *{id}*\nTelegram username: *{username}*\n"
					"PUBG ID: *{pubg_id}*\nPUBG username: *{pubg_username}*\n"
					"Баланс: *{balance}*\nЗабанен: *{banned}*\n\n"
					"Выберите действие или введите другого пользователя."
				)
			},
			'btn_templates': {
				'change_balance': "Изменить баланс",
				'ban': "Забанить",
				'unban': "Разбанить",
			},
			'next': {
				'change_balance_': {
					'msg': (
						"Telegram ID: *{id}*\nTelegram username: *{username}*\n"
						"PUBG ID: *{pubg_id}*\nPUBG username: *{pubg_username}*\n"
						"Текущий баланс: *{balance}*"
					),
					'answers': {
						'ask_for_input': "\n\nВведите сумму.",
						'confirm': "\n\nИзменить баланс на *{}*?",
						'success': "Баланс изменён"
					}
				},
				'switch_ban_': {
					'answers': {
						'banned': "Забанен!",
						'unbanned': "Разбанен!",
					}
				}
			}
		},
		'mailing': {
			'btn': "Отправить сообщения пользователям",
			'msg': "Введите сообщение для отправки ВСЕМ пользователям",
			'answers': {
				'confirm': "Подвердите рассылку сообщения:\n{}\n\nИли введите другое.",
				'success': "Начата рассылка сообщений"
			}
		},
		'bot_settings': {
			'btn': "Настройки бота",
			'msg': (
				"Настройки бота\n\n"
				"*Внимание!*\nЕсли дебаг включен, бот не будет отвечать пользователям."
			),
			'next': {
				'debug_': {
					'answers': {
						'debug_off': "Режим дебага теперь выключен",
						'debug_on': "Режим дебага теперь ВКЛЮЧЕН!"
					}
				}
			},
			'extra_buttons': {
				'debug_on': "⚠️ Включить дебаг ⚠️",
				'debug_off': "Выключить дебаг"
			},
		}
	}
}
menu['next']['admin'].update(admin)

# notifications
slot_is_ready = {
	'admins': (
		"Турнир [{}] должен начаться в течение "
		f"{config.times['close_slot']} мин. Введите PUBG ID и пароль от комнаты."
	),
	'users': (
		"Турнир [{}] начнётся *в течение "
		f"{config.times['close_slot']} минут!* За {config.times['send_room']} мин. "
		"до начала вы получите сообщение с именем комнаты и паролем."
	)
}
game_is_starting = {
	'admins': "Турнир [{}] (PUBG ID {}) начался!",
	'users': (
		"Ваш турнир [{}] *начнётся в течение "
		f"{config.times['send_room']} мин*.\n"
		"Имя комнаты: *{}*, пароль: *{}*"
	)
}
game_ended = {
	'admins': (
		"Турнир [{game}] ({pubg_id}) завершён.\n"
		"Всего *ставок: {total_bets}*, призовых *выплачено: {prizes}*"
	),
	'users': (
		"Турнир [{game}] завершён, ваш результат:\n{place}{kills}\n"
		"Ваш счёт пополнен на *{prize}*. Поздравляем!"
	)
}
winner_place = "Вы заняли *место: {}*\n"
kills_count = "Вы совершили *убийств: {}*\n"

game_didnt_happen = "Турнир [{}] не состоялся. Ставка возвращена на ваш счёт."
game_failed = "Турнир [{}] отменён - не создана комната!"
payment_error = "Пользователь *{}* ({}) не смог вывести деньги, ошибка: {}"

# misc
error = "Ошибка. Попробуйте заново"
back = "Назад"
main = "В главное меню"
confirm = "Подтвердить"
banned = "Вы забанены"
